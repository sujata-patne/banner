
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading">
<!--                Published Banners-->

                <div class="row">
                </div>
            </div>
            <div class="panel-body">


                <div ng-if=" itemsData.items.length <= 0" class="help-block center-block"> No banners found!</div>
                    
                <table ng-if="itemsData.items.length > 0" class="table table-striped table-responsive">
              <!--      <thead>
                        <tr>
                            <td>Id</td>
                            <td>Campaign Name</td>
                            <td>Banner Name</td>
&lt;!&ndash;                            <td>Client Name</td>&ndash;&gt;
&lt;!&ndash;                            <td> Page > Place</td>
                            &ndash;&gt;
                            <td>Start Date</td>
                            <td>End Date</td>
                            <td>Priority</td>
                            <td>Added/Updated on</td>
                            <td>Status</td>
&lt;!&ndash;                            <td>Status</td>
                            &ndash;&gt;
                            <td  data-ng-if="onlyUserTypes(['AccountManager'])"   >Actions</td>
                        </tr>
                    </thead>-->
                    <thead>
                    <tr>
                        <td>  <!--added and initialized reverseSort,reverseSort varible and called OrderBy function on ng-click for sorting and pagination as per column - Shivaji G.-->
                            <a href="#/banner-list" ng-click="orderByField='bID'; reverseSort = !reverseSort; OrderBy(orderByField,reverseSort);">
                                Id
                                    <span ng-show="orderByField == 'bID'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='campaign_name'; reverseSort = !reverseSort; OrderBy(orderByField,reverseSort);">
                                Campaign Name
                                    <span ng-show="orderByField == 'campaign_name'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='banner_name'; reverseSort = !reverseSort;OrderBy(orderByField,reverseSort);">
                                Banner Name
                                    <span ng-show="orderByField == 'banner_name'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <!--                            <td>Client Name</td>-->
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='b_start_date'; reverseSort = !reverseSort;OrderBy(orderByField,reverseSort);">
                                Start Date
                                    <span ng-show="orderByField == 'b_start_date'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='b_end_date'; reverseSort = !reverseSort;OrderBy(orderByField,reverseSort);">
                                End Date
                                    <span ng-show="orderByField == 'b_end_date'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='priority'; reverseSort = !reverseSort;OrderBy(orderByField,reverseSort);">
                                Priority
                                    <span ng-show="orderByField == 'priority'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>
                            <a href="#/banner-list" ng-click="orderByField='created_updated'; reverseSort = !reverseSort;OrderBy(orderByField,reverseSort);">
                                Added/Updated on
                                    <span ng-show="orderByField == 'created_updated'">
                                        <span ng-show="!reverseSort">^</span>
                                        <span ng-show="reverseSort">v</span>
                                    </span>
                            </a>
                        </td>
                        <td>Status</td>

                        <td  data-ng-if="onlyUserTypes(['AccountManager'])">Actions</td>
                    </tr>
                    </thead>
                    <tbody>
                        
                        
                        
                        <tr ng-repeat="banner in itemsData.items">
                            
                            <td ng-bind="banner.bID"></td>
                            <td ng-bind="banner.campaign_name"></td>
                            <td>
                               {{banner.banner_name}}
                                <a ng-if="banner.images.items.length > 0" ng-click="showSlideShow(banner.images.items)" class="pull-right" href=""><i class="glyphicon glyphicon-play" ></i></a>
                            </td>
<!--                            <td> {{banner.pp_page_title}} >> {{banner.ppp_comments}}</td>-->
                            <td ng-bind-template ="{{convertDbDate(banner.b_start_date)}}"></td>
                            <td ng-bind-template ="{{convertDbDate(banner.b_end_date)}}"></td>
                            <td ng-bind-template="{{getPriorityName(banner.priority)}}"></td>
                            <td>{{banner.created_updated}}</td>
                            <td> 
                                <label ng-if="banner.is_active==0" class="label label-danger">Unmapped</label>
                                <label ng-if="banner.is_active!=0" class="label label-success">Mapped</label>
                                
                                </td>
<!--                            <td  > <label class="label" ng-class="{'label-success':banner.status=='Active','label-danger':banner.status=='Expired'}" > {{banner.status}}</label></td>-->
                            
                            <td data-ng-if="onlyUserTypes(['AccountManager'])" >
                                <a  data-ng-if="onlyUserTypes(['AccountManager'])"  ng-click="publishEditBanner(banner.banner_id,banner.id)" title="Edit mapping" class="btn btn-info btn-xs">Edit</a>
               
<!--                                <a title="Block this banner"  class="btn btn-success btn-xs" ng-click="removeManager(banner.id)" ng-if="banner.is_active == 1 && banner.validity_status != 'Expired'"><i class="glyphicon glyphicon-ban-circle"></i>
                                <a title="Banner is Expired" class="btn btn-warning btn-xs"  ng-if="banner.validity_status=='Expired'" ng-disabled="1"><i class="glyphicon glyphicon-ban-circle"></i></a>
                                <a title="Activate this Banner" class="btn btn-danger btn-xs" ng-click="activateManager(banner.id)"  ng-if="banner.is_active == 0 && banner.validity_status=='Active'"  ><i class="glyphicon glyphicon-ban-circle"></i></a>-->

                            </td>
                        </tr>
                    </tbody>
                </table>

                
                    <div data-ng-show="searchStarted && !showLoading && items.length === 0" class="color-disabled">No Labels</div>
                    <div class="clearfix"></div>
                    <div class="row col-md-12">

                        <uib-pagination ng-change="pageChanged()" ng-if="itemsData.totalItemsFound >  listCriteria.perPageItems" total-items="itemsData.totalItemsFound" items-per-page="listCriteria.perPageItems" ng-model="listCriteria.currentPage" class="pagination-sm pull-right" boundary-link-numbers="true" rotate="false"></uib-pagination>
                        <div class="clearfix"></div>
                    </div>
                
                        <script type="text/ng-template" id="imageSlideShow.html">
                        <div class="modal-header">
                            <h3 class="modal-title">Banner Image
                            </h3>
                        </div>
                        <div class="modal-body">
                            
                          
                            <carousel interval="5000">
                            <slide ng-repeat="slide in images | limitTo:1" active="slide.active">
                              <img class='img-responsive' ng-src="{{getBannerImage(slide.image_name)}}" style="margin:auto;">
                              <div class="carousel-caption">
<!--                                <p>{{slide.image_name}}</p>-->
                              </div>
                            </slide>
                          </carousel>
                        
                        
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
                        </div>
                    </script>
            </div>
        </div>
    </div>
</div>